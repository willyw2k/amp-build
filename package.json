{
  "name": "amp-build",
  "version": "2.0.0",
  "description": "An opinionated Google AMP site build.",
  "license": "ISC",
  "author": "Jason Lee <jason@zerodevx.com>",
  "main": "index.js",
  "bin": {
    "amp-build": "cli.js"
  },
  "repository": {
    "type": "git",
    "url": "git+https://github.com/zerodevx/amp-build.git"
  },
  "homepage": "https://github.com/zerodevx/amp-build",
  "bugs": "https://github.com/zerodevx/amp-build/issues",
  "keywords": [
    "google-amp",
    "starter-kit",
    "static-site-generator",
    "tooling"
  ],
  "scripts": {
    "scaffold:page": "node bin/scaffold-page",
    "scaffold": "mkdir src && cp -R scaffold/* src && npm run scaffold:page && tailwind init src/styles/tailwind.config.js && npm run build:tailwind",
    "build:clean": "rm -rf build && mkdir build",
    "build:copy-site": "cp -R src/site/* build",
    "build:replace-snippets": "foreach -g \"src/snippets/*.html\" -x \"cat #{path} | rr '<script snippet=\\\"#{base}(.|\\n)*?</script>' '_' 'build/**/*.html' -R\" --no-C",
    "build:remove-css": "rr '<link id=\"tailwind\"(.*?)rel=\"stylesheet\">' '' 'build/**/*.html'",
    "build:purge-css": "purgecss --config src/styles/purgecss.config.js --out build",
    "build:replace-css": "cat build/styles.css | rr '/\\* tw:placeholder \\*/' '_' 'build/**/*.html' -R",
    "build:remove-purge": "rm build/styles.css",
    "build:purge": "run-s build:remove-css build:purge-css build:replace-css build:remove-purge",
    "build:copy-images": "mkdir build/images && cp -R src/images/* build/images && mv build/images/icons/*.* build/ && rm -r build/images/icons",
    "build:remove-noindex": "rr '<meta name=\"robots\" content=\"noindex\">' '' 'build/**/*.html'",
    "build:enable-analytics": "rr '<!--analytics:start' '' 'build/**/*.html' && rr 'analytics:end-->' '' 'build/**/*.html'",
    "build:htmlmin": "foreach -g 'build/**/*.html' -x 'html-minifier --collapse-whitespace --remove-comments --minify-css {\\\"level\\\":{\\\"1\\\":{\\\"all\\\":false\\,\\\"removeWhitespace\\\":true\\,\\\"specialComments\\\":0}}} #{path} > #{path}.tmp && rm #{path} && mv #{path}.tmp #{path}' -C",
    "build:amp-validate": "foreach -g 'build/**/*.html' -x 'amphtml-validator #{path}'",
    "build:imagemin": "find src/images -path src/images/icons -prune -o -type d -exec imagemin {}/* --out-dir={} \\;",
    "build:tailwind": "tailwind build src/styles/tailwind.css -c src/styles/tailwind.config.js -o src/styles/styles.css",
    "build:sitemap": "fx src/config.json .productionUrl | sscli -s",
    "replace:image": "rr 'http://localhost:8000/src/images/' 'http://localhost:8000/build/images/' 'build/**/*.html'",
    "replace:build": "rr 'http://localhost:8000/src/site/' 'http://localhost:8000/build/' 'build/**/*.html'",
    "replace:staging": "fx src/config.json .stagingUrl | rr 'http://localhost:8000/build/' '_' 'build/**/*.html'",
    "replace:production": "fx src/config.json .productionUrl | rr 'http://localhost:8000/build/' '_' 'build/**/*.html'",
    "build": "run-s build:clean build:copy-site build:replace-snippets build:purge build:copy-images replace:image replace:build",
    "build-staging": "run-s build replace:staging build:htmlmin build:amp-validate",
    "build-production": "run-s build replace:production build:remove-noindex build:enable-analytics build:htmlmin build:amp-validate",
    "serve": "node bin/serve",
    "lint": "eslint .",
    "test": "mocha"
  },
  "ampBuildDependencies": [
    "ansi-colors",
    "deepmerge",
    "fs-extra",
    "listr",
    "yargs-parser",
    "amphtml-validator",
    "chokidar",
    "execa",
    "html-minifier",
    "jsdom",
    "live-server",
    "purgecss",
    "tailwindcss"
  ],
  "dependencies": {
    "ansi-colors": "4.1.1",
    "deepmerge": "4.2.2",
    "fs-extra": "8.1.0",
    "listr": "0.14.3",
    "yargs-parser": "16.1.0"
  },
  "devDependencies": {
    "eslint": "^6.8.0",
    "mocha": "^7.0.1",
    "sinon": "^8.1.1",
    "amphtml-validator": "1.0.29",
    "chokidar": "3.3.1",
    "execa": "4.0.0",
    "html-minifier": "4.0.0",
    "jsdom": "16.0.1",
    "live-server": "1.2.1",
    "purgecss": "2.0.5",
    "tailwindcss": "1.1.4"
  }
}
