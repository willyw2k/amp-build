{
  "name": "amp-build",
  "version": "1.1.0",
  "description": "An opinionated AMP PWA site build",
  "main": "index.js",
  "scripts": {
    "scaffold:page": "node bin/scaffold-page",
    "scaffold": "mkdir src && cp -R scaffold/* src && npm run scaffold:page && tailwind init src/styles/tailwind.config.js && npm run build:tailwind",
    "build:clean": "rm -rf build && mkdir build",
    "build:copy-site": "cp -R src/site/* build",
    "build:replace-snippets": "foreach -g \"src/snippets/*.html\" -x \"cat #{path} | rr '<script snippet=\\\"#{base}(.|\\n)*?</script>' '_' 'build/**/*.html' -R\" --no-C",
    "build:remove-css": "rr '<link id=\"tailwind\"(.*?)rel=\"stylesheet\">' '' 'build/**/*.html'",
    "build:purge-css": "purgecss --config src/styles/purgecss.config.js --out build",
    "build:replace-css": "cat build/styles.css | rr '/\\* tw:placeholder \\*/' '_' 'build/**/*.html' -R",
    "build:remove-purge": "rm build/styles.css",
    "build:purge": "run-s build:remove-css build:purge-css build:replace-css build:remove-purge",
    "build:copy-images": "mkdir build/images && cp -R src/images/* build/images && mv build/images/icons/*.* build/ && rm -r build/images/icons",
    "build:remove-noindex": "rr '<meta name=\"robots\" content=\"noindex\">' '' 'build/**/*.html'",
    "build:enable-analytics": "rr '<!--analytics:start' '' 'build/**/*.html' && rr 'analytics:end-->' '' 'build/**/*.html'",
    "build:htmlmin": "foreach -g 'build/**/*.html' -x 'html-minifier --collapse-whitespace --remove-comments --minify-css {\\\"level\\\":{\\\"1\\\":{\\\"all\\\":false\\,\\\"removeWhitespace\\\":true\\,\\\"specialComments\\\":0}}} #{path} > #{path}.tmp && rm #{path} && mv #{path}.tmp #{path}' -C",
    "build:amp-validate": "foreach -g 'build/**/*.html' -x 'amphtml-validator #{path}'",
    "build:imagemin": "find src/images -path src/images/icons -prune -o -type d -exec imagemin {}/* --out-dir={} \\;",
    "build:tailwind": "tailwind build src/styles/tailwind.css -c src/styles/tailwind.config.js -o src/styles/styles.css",
    "build:sitemap": "fx src/config.json .productionUrl | sscli -s",
    "replace:image": "rr 'http://localhost:8000/src/images/' 'http://localhost:8000/build/images/' 'build/**/*.html'",
    "replace:build": "rr 'http://localhost:8000/src/site/' 'http://localhost:8000/build/' 'build/**/*.html'",
    "replace:staging": "fx src/config.json .stagingUrl | rr 'http://localhost:8000/build/' '_' 'build/**/*.html'",
    "replace:production": "fx src/config.json .productionUrl | rr 'http://localhost:8000/build/' '_' 'build/**/*.html'",
    "build": "run-s build:clean build:copy-site build:replace-snippets build:purge build:copy-images replace:image replace:build",
    "build-staging": "run-s build replace:staging build:htmlmin build:amp-validate",
    "build-production": "run-s build replace:production build:remove-noindex build:enable-analytics build:htmlmin build:amp-validate",
    "serve": "http-server -p 8000 -c-1",
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "author": "Jason Lee <jason@zerodevx.com>",
  "license": "ISC",
  "dependencies": {
    "amphtml-validator": "^1.0.23",
    "foreach-cli": "^1.8.1",
    "fx": "^14.0.1",
    "html-minifier": "^4.0.0",
    "http-server": "^0.11.1",
    "imagemin-cli": "^5.0.0",
    "npm-run-all": "^4.1.5",
    "pretty-delay-cli": "^0.1.0",
    "purgecss": "^1.3.0",
    "rexreplace": "^4.1.1",
    "static-sitemap-cli": "^1.1.0",
    "tailwindcss": "^1.1.2",
    "workbox-cli": "^4.3.1"
  },
  "devDependencies": {}
}
