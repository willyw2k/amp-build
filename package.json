{
  "name": "amp-build",
  "version": "1.0.0",
  "description": "An opinionated AMP PWA site build",
  "main": "index.js",
  "scripts": {
    "scaffold:page": "node bin/scaffold-page",
    "scaffold": "shx mkdir -p src && shx cp -R scaffold/* src && npm run scaffold:page && tailwind init src/styles/tailwind.js && npm run build:tailwind",
    "temp:clean": "shx rm -rf temp && mkdir temp",
    "temp:copy-site": "shx cp -r src/site/. temp/ && shx cp {src/pwa/*,scaffold/install-sw.html} temp/",
    "temp:replace-snippets": "foreach -g \"src/snippets/*.html\" -x \"cat #{path} | rr '<script snippet=\\\"#{base}(.|\\n)*?</script>' '_' 'temp/**/*.html' -R\" --no-C",
    "temp:remove-css": "rr '<link id=\"tailwind\"(.*?)rel=\"stylesheet\">' '' 'temp/**/*.html'",
    "temp:purge-css": "purgecss --config scaffold/purgecss.config.js --out temp",
    "temp:replace-css": "cat temp/styles.css | rr '/\\* tw:placeholder \\*/' '_' 'temp/**/*.html' -R",
    "temp:remove-purge": "shx rm temp/styles.css",
    "temp:copy-images": "shx mkdir -p temp/images && shx cp -r src/images/. temp/images/ && shx mv temp/images/icons/favicon.ico temp/",
    "pwa:enable-sw": "rr '<!--sw:start' '' 'temp/**/*.html' && rr 'sw:end-->' '' 'temp/**/*.html'",
    "pwa:generate-sw": "workbox generateSW scaffold/workbox-config.js",
    "replace:temp": "rr 'http://localhost:8000/src/site/' 'http://localhost:8000/temp/' 'temp/**/*.html' && rr 'http://localhost:8000/src/images/' 'http://localhost:8000/temp/images/' 'temp/**/*.html'",
    "temp": "npm-run-all -s temp:* replace:temp",
    "build:tailwind": "tailwind build src/styles/tailwind.css -c src/styles/tailwind.js -o src/styles/styles.css",
    "build:imagemin": "find src/images -type d -exec imagemin {}/* --out-dir={} \\;",
    "build": "npm-run-all -s temp:clean temp:copy-site temp:replace-header temp:replace-footer temp:remove-css temp:purge-css temp:replace-css temp:remove-purge",
    "serve": "python -m SimpleHTTPServer 8000",
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "author": "Jason Lee <jason@zerodevx.com>",
  "license": "ISC",
  "devDependencies": {
    "foreach-cli": "^1.8.1",
    "fx": "^14.0.1",
    "imagemin-cli": "^4.0.1",
    "npm-run-all": "^4.1.5",
    "purgecss": "^1.1.0",
    "rexreplace": "^4.1.1",
    "shx": "^0.3.2",
    "tailwindcss": "^0.7.4",
    "workbox-cli": "^4.1.1"
  }
}
